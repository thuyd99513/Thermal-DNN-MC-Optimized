# 论文实验复现路线图

本文档记录论文 "Liquid and solid layers in a thermal deep learning machine" 中所有实验的复现状态和后续任务计划。

## 复现状态总览

| 实验 | 对应图表 | 状态 | 复杂度 | 优先级 |
|:-----|:--------|:----:|:------:|:------:|
| 液-固相图 | Figure 1b | ✅ 已完成 | 中等 | - |
| 全局训练动态 | Figure 2 | ✅ 已完成 | 中等 | - |
| 层依赖训练动态 | Figure 3 | ✅ 已完成 | 高 | - |
| 设计空间结构 | Figure 4 | ❌ 未开始 | 高 | P2 |
| 温度依赖性 | Figure S1 | ❌ 未开始 | 低 | P3 |
| 全局相关函数补充 | SI Sec. S2 | ❌ 未开始 | 低 | P4 |
| 层相关函数补充 | SI Sec. S3 | ❌ 未开始 | 中等 | P4 |
| 网络深度依赖性 | SI Sec. S4 | ❌ 未开始 | 中等 | P5 |
| 重叠参数分布补充 | SI Sec. S5 | ❌ 未开始 | 中等 | P5 |

---

## 已完成实验

### 实验一：液-固相图 (Figure 1b)
**目的**：构建数值相图，验证"固-液-固"分层结构

**测量内容**：
- 层重叠参数 q_l* 随 ln α 和层 l 的变化
- 相变边界 q* = 1/e ≈ 0.368

**代码文件**：
- `py_functions/run_experiment1_v2.py`
- `py_functions/generate_phase_diagram.py`

**结果**：`reports/experiment1_final/`

---

### 实验二：全局训练动态 (Figure 2)
**目的**：研究能量 E(t) 和准确率 A(t) 的时间演化

**测量内容**：
- 能量衰减曲线 E(t)/E(0)
- 训练集和测试集准确率 A_train(t), A_test(t)
- 自相关函数 c(t, t_w)
- 副本间重叠 q(t, t_w)

**代码文件**：
- `py_functions/experiment2_fixed.py`
- `py_functions/experiment2_medium.py`

**结果**：`reports/experiment2_results/`

---

### 实验三：层依赖训练动态 (Figure 3) ✅ 已完成

**目的**：揭示不同层的动态特性差异（液态层 vs 固态层）

**测量内容**：
1. **层自相关函数 c_l(t, t_w)**：不同层 l 的自旋自相关
2. **弛豫时间 τ_l^c**：c_l 衰减到 1/e 所需时间，作为 t_w 的函数
3. **层副本相关函数 q_l(t, t_w)**：不同层的副本重叠
4. **最终层重叠 q_l* 和穿透深度 ξ_l**

**代码文件**：
- `py_functions/experiment3_layer_dynamics.py`
- `py_functions/experiment3_extended.py`

**结果**：`reports/experiment3_results/`

**主要发现**：
- 层 1（输入边界）表现出固态行为（q_l* ≈ 0.75 > 1/e）
- 层 2-7（中心层）表现出液态行为（q_l* < 0.25 < 1/e）
- 观察到从边界向中心的层重叠递减趋势

---

## 待复现实验

### 实验四：设计空间结构 (Figure 4) - 优先级 P2

**目的**：分析液态层和固态层的参数空间结构

**测量内容**：
1. **重叠参数分布 P(Q_l^ab)**：层 l 的副本重叠分布
2. **重叠矩阵热图**：配置间的相似性矩阵
3. **层次聚类树状图**：使用 Complete Linkage 算法

**关键物理量定义**：
```
Q_l^ab(t, t_w) = (1/N_l·N_{l-1}) Σ_{i,j} J_{l,i,j}^a(t+t_w) · J_{l,i,j}^b(t+t_w)
```

**预期结果**：
- 液态层（l=5）：P(Q_l^ab) 为单峰高斯分布，无结构
- 固态层（l=9）：P(Q_l^ab) 为双峰分布，存在层次结构

**实现难度**：高（需要实现聚类算法和可视化）

---

### 实验五：温度依赖性 (Figure S1) - 优先级 P3

**目的**：研究温度 T 对训练动态的影响

**测量内容**：
- 不同温度下的 E(t)/E(0)
- 不同温度下的 A(t)

**参数范围**：T = 10^-2, 2×10^-3, 10^-3, 5×10^-4, 10^-5

**预期结果**：
- 高温（T = 10^-2）：能量衰减慢，准确率低
- 低温（T = 10^-5）：能量快速衰减，准确率高

**实现难度**：低（只需修改 β = 1/T 参数）

---

### 实验六：全局相关函数补充 (SI Sec. S2) - 优先级 P4

**目的**：提供更详细的全局相关函数数据

**测量内容**：
- 更多 t_w 值的 c(t, t_w) 和 C(t, t_w)
- 更多 t_w 值的 q(t, t_w) 和 Q(t, t_w)

**实现难度**：低（扩展实验二的参数范围）

---

### 实验七：层相关函数补充 (SI Sec. S3) - 优先级 P4

**目的**：提供更详细的层特定相关函数数据

**测量内容**：
- 所有层的 c_l(t, t_w) 和 q_l(t, t_w)
- 弛豫时间 τ_l^c 的详细分析

**实现难度**：中等（扩展实验三）

---

### 实验八：网络深度依赖性 (SI Sec. S4) - 优先级 P5

**目的**：研究总网络深度 L 对结果的影响

**测量内容**：
- 不同 L 值下的相图
- 不同 L 值下的训练动态

**参数范围**：L = 6, 8, 10, 12, 14

**实现难度**：中等（需要多次运行不同配置）

---

### 实验九：重叠参数分布补充 (SI Sec. S5) - 优先级 P5

**目的**：提供更多关于设计空间结构的数据

**测量内容**：
- 更多配置的 P(Q_l^ab) 分布
- 不同 N_r（副本数）的影响

**实现难度**：中等（扩展实验四）

---

## 技术改进任务

### GPU 加速 - 优先级 P6

**目的**：将计算迁移到 GPU 以获得更高性能

**方法**：
- 使用 CuPy 替换 NumPy
- 或使用 PyTorch 重写核心计算

**预期加速**：100x 以上

---

### 实时可视化 - 优先级 P7

**目的**：开发实时监控训练过程的工具

**功能**：
- 实时能量曲线
- 实时准确率曲线
- 自旋状态可视化

---

## 建议的执行顺序

1. **实验三**（层依赖训练动态）- 核心物理结果
2. **实验四**（设计空间结构）- 深入理解固态层
3. **实验五**（温度依赖性）- 简单扩展
4. **实验六/七**（补充数据）- 完善结果
5. **实验八/九**（参数扫描）- 系统性研究
6. **GPU 加速** - 性能优化
7. **实时可视化** - 工具开发

---

*文档更新时间：2026-01-28*
